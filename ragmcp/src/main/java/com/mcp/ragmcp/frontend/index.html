<!doctype html>
<html>
  <head>
    <title>AI Document Assistant</title>
    <style>
      body {
        font-family: Arial;
        background: #0f172a;
        color: white;
        text-align: center;
        padding: 40px;
      }
      .box {
        background: #1e293b;
        padding: 30px;
        border-radius: 12px;
        width: 500px;
        margin: auto;
      }
      button {
        padding: 10px 20px;
        background: #22c55e;
        border: none;
        color: white;
        border-radius: 6px;
        cursor: pointer;
      }
      input,
      textarea {
        width: 90%;
        padding: 10px;
        margin: 10px;
        border-radius: 6px;
        border: none;
      }
      #answer {
        margin-top: 20px;
        background: #020617;
        padding: 15px;
        border-radius: 8px;
      }
    </style>
  </head>

  <body>
    <h1>ðŸ¤– AI Document Assistant</h1>

    <div class="box">
      <h3>Upload PDF</h3>
      <input type="file" id="fileInput" />
      <br />
      <button onclick="upload()">Upload</button>

      <hr />

      <h3>Ask Question</h3>
      <textarea
        id="question"
        placeholder="Ask anything from document"
      ></textarea>
      <br />
      <button onclick="ask()">Ask AI</button>

      <div id="answer"></div>
    </div>

    <script>
      async function upload() {
        let file = document.getElementById("fileInput").files[0];

        let formData = new FormData();
        formData.append("file", file);

        let res = await fetch("http://localhost:8084/docs/upload", {
          method: "POST",
          body: formData,
        });

        let resultText = await res.text();
        document.getElementById("answer").innerText = resultText;
      }

      async function ask() {
        let q = document.getElementById("question").value;

        let res = await fetch("http://localhost:8084/ask", {
          method: "POST",
          headers: { "Content-Type": "text/plain" },
          body: q,
        });

        let text = await res.text();
        document.getElementById("answer").innerText = text;
      }
    </script>
  </body>
</html>
